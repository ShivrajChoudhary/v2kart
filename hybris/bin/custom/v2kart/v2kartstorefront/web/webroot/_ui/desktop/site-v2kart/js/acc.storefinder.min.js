function checkPincode(e){return pincodeRegex=/^\d{6}$/,e.match(pincodeRegex)?!0:!1}ACC.storefinder={map:"",bindAll:function(){this.drawMap(),this.getStoreMarkersImages(),this.bindFindStoresNearMe()},drawMap:function(){if(0!=$("#map_canvas").length){var e=$("#map_canvas"),t=new google.maps.LatLng(e.data("latitude"),e.data("longitude")),o={zoom:13,zoomControl:!0,panControl:!0,streetViewControl:!1,mapTypeId:google.maps.MapTypeId.ROADMAP,center:t};ACC.storefinder.map=new google.maps.Map(document.getElementById("map_canvas"),o),e.data("southLatitude")?(this.setMapBouns(),this.getStorePosition()):(store=e.data("stores"),this.addStore(store.id,store.latitude,store.longitude,store.name))}},setMapBouns:function(){var e=$("#map_canvas"),t=new google.maps.LatLng(e.data("southLatitude"),e.data("westLongitude")),o=new google.maps.LatLng(e.data("northLatitude"),e.data("eastLongitude")),a=new google.maps.LatLngBounds(t,o);ACC.storefinder.map.fitBounds(a)},getStorePosition:function(){var e=$("#map_canvas");stores=$.parseJSON(e.data("stores")),$.each(stores,function(e,t){ACC.storefinder.addStore(t.id,t.latitude,t.longitude,t.name)})},addStore:function(e,t,o,a){var n=new google.maps.Marker({position:new google.maps.LatLng(t,o),map:ACC.storefinder.map,title:a,icon:"http://maps.google.com/mapfiles/marker"+"ABCDEFGHIJ".charAt(e)+".png"}),r=new google.maps.InfoWindow({content:a,disableAutoPan:!0});google.maps.event.addListener(n,"click",function(){r.open(ACC.storefinder.map,n)})},getStoreMarkersImages:function(){0!=$(".storeResultList").length&&$(".storeMarker").each(function(e){$(this).attr("src","http://maps.google.com/mapfiles/marker"+"ABCDEFGHIJ".charAt(e)+".png")})},bindFindStoresNearMe:function(){$(document).on("click","#findStoresNearMe",function(e){e.preventDefault();var t=navigator.geolocation;t&&t.getCurrentPosition(ACC.storefinder.positionSuccessStoresNearMe,function(e){console.log("An error occurred... The error code and message are: "+e.code+"/"+e.message)})})},positionSuccessStoresNearMe:function(e){return $("#latitude").val(e.coords.latitude),$("#longitude").val(e.coords.longitude),$("#nearMeStorefinderForm").submit(),!1}},$(document).ready(function(){ACC.storefinder.bindAll()});