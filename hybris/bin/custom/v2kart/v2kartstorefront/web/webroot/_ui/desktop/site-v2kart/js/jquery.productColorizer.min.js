!function(t){t.fn.productColorizer=function(r){var s={transparency:.55,swatchTransparency:.75,secondaryTransparency:.55,swatchClass:".swatch"},r=t.extend(s,r);return this.each(function(){function s(t){var r=parseInt(t[0]),s=parseInt(t[1]),a=parseInt(t[2]),e=a|s<<8|r<<16;return e.toString(16)}var a=r,e=t(this),i=(e.find(a.swatchClass),e.find(a.swatchClass+" a"));e.find(".mask");t(i).each(function(){var r="rgba("+t(this).attr("rel")+","+a.swatchTransparency+")";if(t(this).html("<span>"+t(this).html()+"</span>"),t(this).find("span").css("background",r),t.browser.msie){r=t(this).attr("rel");var e=r.split(",");r="#"+s(e),t(this).find("span").css({"background-color":r})}}),t(i).click(function(r){r.preventDefault(),t(i).removeClass("active"),t(this).addClass("active");var e="rgba("+t(this).attr("rel")+","+a.transparency+")",o=t(this).attr("href");if(t(o).attr("role")){t(o).empty();var n=Raphael(o.substring(1),t(o).width(),t(o).height()),c={fill:"rgb("+t(this).attr("rel")+")",opacity:a.secondaryTransparency,"stroke-width":0};n.path(t(o).attr("role")).attr(c)}else if(t(o).css({"background-color":e},1e3),t.browser.msie){e=t(this).attr("rel");var l=e.split(",");e=s(l),t(o).css({background:"transparent",zoom:1,filter:"progid:DXImageTransform.Microsoft.gradient(startColorstr=#80"+e+",endColorstr=#80"+e+")"})}}),t(i).hover(function(r){r.preventDefault();var s=t(this).offset().left-t(this).parent().offset().left,a=t(this).offset().top-t(this).parent().offset().top+25,e=t(this).attr("title");t.browser.msie||t(this).removeAttr("title"),t(this).after('<div class="colorizer-tooltip"><div class="colorizer-pointer-up"><div class="colorizer-pointer-up-inner"></div></div><span class="colorizer-tooltip-text">'+e+"</span></div>");var i=t(".colorizer-tooltip").width()/2-12;t(".colorizer-tooltip").css({left:s-i,top:a})},function(){var r=t(".colorizer-tooltip-text").html();t(this).attr("title",r),t(".colorizer-tooltip").remove()})})}}(jQuery);